=== Woocommerce retailCRM ===
Contributors: retailCRM
Donate link: http://retailcrm.ru/
Tags: Интеграция, retailCRM
Requires PHP: 5.3
Requires at least: 4.4
Tested up to: 5.3
Stable tag: 3.5
License: GPLv1 or later
License URI: http://www.gnu.org/licenses/gpl-1.0.html

== Description ==

= Plugin Functions =

This WooСommerce and retailCRM integration plugin will help you manage your orders, catalogs and stock more easily by generating a catalog compatible with retailCRM’s system, setting up a two-way exchange of orders between WooCommerce and retailCRM; sending and receiving changes on orders, uploading leftovers from retailCRM to your online store automatically. How? By enabling the “stock unloading” function, your stock will be updated automatically every 15 minutes. This also means that you don’t have to manually hide sold out stock on your website: the system will do it for you automatically!

= Downloaded changes from  retailCRM =

Every 5 minutes the plugin downloads changes from retailCRM to WooCommerce.

= Customization =

You can make changes to the basic plugin classes by placing a copy of the class from the “include” directory to the “wp-content/retailcrm-custom” directory.

== Installation ==

= Activation and configuration =

After activating the plugin, open WooCommerce’s settings, select the “Integration” tab and specify the CRM address in retailCRM’s settings (for example: https://example.retailcrm.ru). You will also have to specify the API key generated by our system (instructions for adding a key to retailCRM via http: //www.retailcrm.ru/docs/Users/ApiKeys) and select the desired API version (API v5 is available only from Retailcrm 6.0 and on).

== Frequently Asked Questions ==

= There is no list of directories to configure compliance =

Make sure that all methods are available for the generated API key

= I can’t see any orders in retailCRM =

Make sure you have a specific API key must for each store.

== Screenshots ==

1. Enter the CRM address, the API key, the API version and click the save settings button. If no other settings appear after saving, refresh the page.
2. A list of directories will pop up, in which you will have to set up delivery and payment methods, as well as order statuses. Check the "Unload leftovers" box if you want to unload leftovers from retailCRM to your store (for more details, see the description).

== Descripción ==

Lleva tu comercio electrónico al siguiente nivel con retailCRM, una herramienta de 360º que te permite no solo integrar plataformas clave como WooCommerce, sino también tener una visión completa de tu negocio y un control total sobre él independientemente de su tamaño.

Este plugin de WooСommerce y retailCRM te ayudará a administrar tus pedidos, catálogos y stock más fácilmente al generar un catálogo compatible con el sistema de retailCRM, que crea un intercambio bidireccional de pedidos entre WooCommerce y retailCRM. También podrás enviar y recibir cambios en pedidos y sincronizar tu mercadería en retailCRM con el de tu tienda automáticamente. ¿Cómo? Al habilitar la función de "descarga de stock", tu bodega se actualizará automáticamente cada 15 minutos. Tampoco tendrás que ocultar manualmente las existencias agotadas en su sitio web, ¡el sistema lo hará por ti automáticamente!

= SINCRONIZA TUS DATOS =

El plugin descarga y actualiza los cambios de retailCRM a WooCommerce cada 5 minutos.

= PERSONALIZA =

El plugin de retailCRM te permite realizar cambios en las clasificaciones básicas colocando una copia de la clasificación del directorio "incluir" en el directorio "wp-content/retailcrm-custom".

¿A que te hemos convencido? Instala ya el plugin de retailCRM y 360NRS y únete a nuestros más de 10,000 clientes en Europa y Latinoamérica mientras haces crecer tu negocio de manera más eficiente.

== Instalación ==

= ACTIVACIÓN Y CONFIGURACIÓN =

Después de activar el plugin, abre la ventana de configuración de WooCommerce, selecciona la pestaña "Integración" y especifica la dirección del CRM en la configuración de retailCRM (por ejemplo: https://example.retailcrm.ru). También deberás especificar la clave API generada por nuestro sistema (mira las instrucciones para agregar una clave a retailCRM aquí http: //www.retailcrm.es/docs/Users/ApiKeys) y seleccionar la versión de API deseada (API v5 solo está disponible desde Retailcrm 6.0 y posteriores).

== PREGUNTAS FRECUENTES ==

= I. No hay una lista de directorios para configurar el cumplimiento =

Asegúrate de que todos los métodos estén disponibles para la clave API generada

= II. No veo ningún pedido en retailCRM =
Asegúrate de tener una clave API específica para cada tienda. Las siguientes instrucciones te ayudarán a configurarla:

== Pantallazos ==

1. Introduce la dirección del CRM, la clave API, la versión API y haz clic en el botón “Guardar configuración''. Si no aparecen otras configuraciones después de guardar, actualiza la página.
2. Después de guardar aparecerá una lista de directorios en la que deberás configurar los métodos de envío y pago, así como los estados de los pedidos. Marca la casilla "Descargar restos" si deseas descargar los restos de retailCRM a tu tienda (para obtener más detalles, consulta la descripción).


== Changelog ==
= 4.1.5=
* Исправлен баг с передачей email. Email перед отправкой в CRM всегда переводиться в нижний регистр.
* Исправлен баг с передачей оплаты с нулевой суммой
* Улучшена работа скидок в заказе

= 4.1.4 =
* Добавлены переводы для передачи себестоимости доставки
* Исправлен баг с некорректным отображением онлайн консультанта на странице авторизации

= 4.1.3 =
* Добавлены переводы для опции роли клиентов
* Добавлена возможность опционально передавать себестоимость доставки

= 4.1.2 =
* Исправлен баг с отсутствием настроек справочников

= 4.1.1 =
* Добавлена настройка выбора ролей клиентов для выгрузки в retailCRM

= 4.1.0 =
* Добавлена возможность подключения Онлайн-консультанта

= 4.0.1 =
* Исправлена передача статуса оплаты

= 4.0.0 =
* Поддержка корпоративных клиентов
* Поддержка изменения покупателя в заказе

= 3.6.4 =
* Передача названия региона / штата / провинции вместо кода

= 3.6.3 =
* Улучшено обновление данных заказа по истории

= 3.6.2 =
* Исправлена ошибка, которая приводила к дублированию некоторых клиентов

= 3.6.1 =
* Исправлена ошибка генерации каталога товаров

= 3.6.0 =
* Добавлена настройка передачи суммы оплаты в retailCRM

= 3.5.2 =
* Исправлен баг с выгрузкой заказов в retailCRM

= 3.5.1 =
* Исправлен баг при активации плагина

= 3.5.0 =
* Добавлена настройка деактивации выгрузки изменений заказа в retailCRM
* Добавлена настройка активации выгрузки SKU в xmlId и связь товаров по полю xmlId
* Добавлена настройка передачи номера заказа в retailCRM

= 3.4.5 =
* Исправлен баг с добавлением скидки при уменьшении количества товара в retailCRM

= 3.4.4 =
* Добавлена генерация уникального id к внешнему id отправляемой оплаты при использовании 5 версии api

= 3.4.3 =
* Исправлено сохранение типа оплаты при создании заказа при обработке истории изменений на стороне WC
* Исправлено сохранение типа оплаты при ризменении заказа при обработке истории изменений на стороне WC

= 3.4.2 =
* Исправлено изменение типа оплаты на стороне WC
* Добавлен вывод неактивных типов оплаты в настройках

= 3.4.1 =
* Исправлены некоторые ошибки

= 3.4.0 =
* Добавлена настройка Daemon Collector
* Изменена логика передачи данных по заказам и клиентам. Данные доставки передаются в заказ, данные оплаты в карточку клиента.

= 3.3.8 =
* Добавлена выгрузка картинок для категорий товаров в ICML

= 3.3.7 =
* Исправлен баг активации модуля интеграции

= 3.3.6 =
* Исправлена активация модуля в маркетплейсе retailCRM при использовании api v4

= 3.3.5 =
* Добавлена активация модуля в маркетплейсе retailCRM

= 3.3.4 =
* Улучшена обработка истории заказов

= 3.3.3 =
* Добавлены кнопки для перехода в настройки плагина и для генерации каталога в админ-панели wordpress
* Улучшена механика передачи данных оплаты заказа

= 3.3.2 =
* Задачи в wp-cron теперь активируются в настройках плагина

= 3.3.1 =
* Исправлена ошибка с дублированием товаров с WC

= 3.3.0 =
* Переработана механика обработки истории изменений

= 3.2.0 =
* Улучшен метод выборки данных о доставках и оплатах в настройках плагина
* Исправлены ошибки при обработке истории изменений
* Добавлены тесты для обработки истории изменений

= 3.1.1 =
* Исправлен код отправки данных в UA
* Добавлены новые фильтры, добавлена передача новых параметров в существущие

= 3.1.0 =
* В интерфейс настроек плагина добавлена возможность ручной выгрузки заказов
* Исправлена инициализация кода UA для отправки заказов на всех страницах

= 3.0.0 =
* Произведен рефакторинг кода

= 2.1.4 =
* Исправлена ошибка при активированном модуле без настроек
* Добавлен фильтр при формировании массива заказа
* Исправлена генерация icml с неполной картинкой товара

= 2.1.3 =
* Исправлена ошибка на php5.3

= 2.1.2 =
* Добавлена локализация плагина
* Добавлена интеграция с UA

= 2.1.1 =
* Исправлена ошибка с редактированием клиента

= 2.1.0 =
* Переработана механика генерации icml каталога товаров
* В icml каталог добавлена выгрузка налоговой ставки
* Исправлен пересчет итогов после изменения количества товара в RetailCRM

= 2.0.6 =
* Исправлено возникновение Warning на PHP 7.2 при генерации каталога товаров
* Добавлена настройка выгрузки заказов из RetailCRM с определенными способами оформления
* Выгрузка изменений из RetailCRM осуществляется по sinceId

= 2.0.5 =
* Исправлен неверный подсчет скидки на товары

= 2.0.4 =
* Улучшена механика пакетной выгрузки клиентов и заказов
* Добавлена возможность выгрузки заказов с товарами, которые уже удалены с сайта

= 2.0.3 =
* Изменен механизм рассчета стоимости товара в заказе
* Улучшена передача информации об изменениях в заказе
* Устранены мелкие баги

= 2.0.2 =
* Изменен механизм передачи скидок в CRM

= 2.0.1 =
* Добавлена выгрузка размеров товаров
* Улучшена выгрузка веса товаров
* Улучшена механика выгрузки заказов из CRM

= 2.0.0 =
* Улучшен поиск типов доставок на сайте
* Добавлена кнопка генерации icml каталога в настройках плагина
* Переработан механизм выгрузки заказов из CRM
* Улучшена генерация каталога, добавлена выгрузка размеров

= 1.2.3 =
* Добален опциональный выбор статусов товаров, выгружаемых в каталоге
* Улучшен механизм формирования цены товара в заказе (с учетом скидок и налогов)

= 1.2.2 =
* Исправлены ошибки

= 1.2.1 =
* Доработана система кастомизации.

= 1.2.0 =
* Улучшена возможность кастомизации плагина.
* Добавлена возможность кастомизации обработки остатков, клиентов и истории.

= 1.1 =
* Добавлена возможность выбора версии API.
* Исправелены ошибки.

== Upgrade Notice ==
= 3.6.0 =
Добавлена возможность отключить передачу суммы оплаты в retailCRM, тогда сумма будет рассчитываться в retailCRM

= 3.4.2 =
Исправлено изменение типа оплаты на стороне WC
Добавлен вывод неактивных типов оплаты в настройках

= 3.4.0 =
Внедрен Daemon Collector

= 3.3.5 =
После обновления плагина необходимо пересохранить настройки для того, чтобы активировать модуль в маркетплейсе retailCRM

= 3.3.4 =
Улучшена обработка истории заказов

= 3.3.3 =
Добавлены кнопки для перехода в настройки плагина и для генерации каталога в админ-панели wordpress
Улучшена механика передачи данных оплаты заказа

= 3.3.2 =
Добавлена настройка для активации задач в wp-cron

= 3.3.1 =
Исправлена ошибка с дублированием товаров с WC

= 3.3.0 =
Переработана механика обработки истории изменений

= 3.2.0 =
Улучшен метод выборки данных о доставках и оплатах в настройках плагина
Исправлены ошибки при обработке истории изменений
Добавлены тесты для обработки истории изменений

= 3.1.1 =
Исправлен код отправки данных в UA
Добавлены новые фильтры, добавлена передача новых параметров в существущие

= 3.1.0 =
В интерфейс настроек плагина добавлена возможность ручной выгрузки заказов

= 3.0.0 =
Произведен рефакторинг кода

= 2.1.4 =
Исправлена ошибка при активированном модуле без настроек
Добавлен фильтр при формировании массива заказа
Исправлена генерация icml с неполной картинкой товара

= 2.1.3 =
Исправлена ошибка на php5.3

= 2.1.2 =
Добавлена локализация плагина
Добавлена интеграция с UA

= 2.1.1 =
Исправлена ошибка с редактированием клиента

= 2.1.0 =
Переработана механика генерации icml каталога товаров
В icml каталог добавлена выгрузка налоговой ставки
Исправлен пересчет итогов после изменения количества товара в RetailCRM

= 2.0.6 =
Исправлено возникновение Warning на PHP 7.2 при генерации каталога товаров
Добавлена настройка выгрузки заказов из RetailCRM с определенными способами оформления

= 2.0.4 =
Улучшена механика пакетной выгрузки клиентов и заказов
Добавлена возможность выгрузки заказов с товарами, которые уже удалены с сайта

= 2.0.3 =
Изменен механизм рассчета стоимости товара в заказе
Улучшена передача информации об изменениях в заказе
Устранены мелкие баги

= 2.0.2 =
Изменен механизм передачи скидок в CRM

= 2.0.1 =
Добавлена выгрузка размеров товаров
Улучшена выгрузка веса товаров
Улучшена механика выгрузки заказов из CRM

= 2.0.0 =
Улучшен поиск типов доставок на сайте
Добавлена кнопка генерации icml каталога в настройках плагина
Переработан механизм выгрузки заказов из CRM
Улучшена генерация каталога, добавлена выгрузка размеров

= 1.2.3 =
Исправлены ошибки, доработан функционал
